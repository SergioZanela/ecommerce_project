{% extends "base.html" %}

{% block title %}Cart{% endblock %}

{% block content %}
  <h1>Your Cart</h1>

  {% if items %}
    <ul class="list" style="margin-top:12px;">
      {% for it in items %}
        <li class="item">
          <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;">
            <div>
              <strong>{{ it.product.name }}</strong>
              <div class="badge" style="margin-top:8px;">
                Qty: {{ it.quantity }} â€¢ Line: ${{ it.line_total }}
              </div>
            </div>

            <div>
              <a class="btn btn-danger" href="{% url 'cart_remove' it.product.id %}">Remove</a>
            </div>
          </div>
        </li>
      {% endfor %}
    </ul>

    <div class="item" style="margin-top:12px; display:flex; justify-content:space-between; align-items:center;">
      <strong>Total</strong>
      <strong>${{ total }}</strong>
    </div>

    <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
      <a class="btn" href="{% url 'public_store_list' %}">Continue shopping</a>
      <a class="btn" href="{% url 'checkout' %}">Checkout</a>
    </div>
  {% else %}
    <p>Your cart is empty.</p>
    <div style="margin-top:12px;">
      <a class="btn" href="{% url 'public_store_list' %}">Browse stores</a>
    </div>
  {% endif %}
{% endblock %}
